webpackJsonp([1],{"1uuo":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a=s("mvHQ"),i=s.n(a),r={name:"app",data:function(){return{colors:["#fef4ac","#0018ba","#ffc200","#f32f15","#cccccc","#5ab639"],brushs:[{className:"small fa fa-paint-brush",lineWidth:3},{className:"middle fa fa-paint-brush",lineWidth:6},{className:"big fa fa-paint-brush",lineWidth:12}],shows:!1,context:{},imgUrl:[],sendAry:[],singalAry:[],canvasMoveUse:!0,express:"",src:"http://latex.codecogs.com/gif.latex?\\frac{\\Delta}{z}",preDrawAry:[],nextDrawAry:[],middleAry:[],config:{lineWidth:1,lineColor:"#f2849e",shadowBlur:2}}},created:function(){this.$emit("setNav","在线涂鸦画板"),this.canvasMoveUse=!1},mounted:function(){var t=document.querySelector("#canvas");this.context=t.getContext("2d"),this.initDraw(),this.setCanvasStyle(),document.querySelector("#footer").classList.add("hide-footer"),document.querySelector("body").classList.add("fix-body")},destroyed:function(){document.querySelector("#footer").classList.remove("hide-footer"),document.querySelector("body").classList.remove("fix-body")},computed:{controls:function(){return[{title:"上一步",action:"prev",className:this.preDrawAry.length?"active fa fa-reply":"fa fa-reply"},{title:"下一步",action:"next",className:this.nextDrawAry.length?"active fa fa-share":"fa fa-share"},{title:"清除",action:"clear",className:this.preDrawAry.length||this.nextDrawAry.length?"active fa fa-trash":"fa fa-trash"}]}},methods:{isPc:function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],s=!0,n=0;n<e.length;n++)if(t.indexOf(e[n])>0){s=!1;break}return s},removeImg:function(t){this.imgUrl=this.imgUrl.filter(function(e){return e!==t})},initDraw:function(){var t=this.context.getImageData(0,0,600,400);this.middleAry.push(t)},canvasMove:function(t){if(this.canvasMoveUse){console.log("canvasMove");var e=t.target,s=void 0,n=void 0;this.isPc()?(s=t.clientX-e.parentNode.offsetLeft,n=t.clientY-e.parentNode.offsetTop):(s=t.changedTouches[0].clientX-e.parentNode.offsetLeft,n=t.changedTouches[0].clientY-e.parentNode.offsetTop),this.singalAry.push([s,n]),this.context.lineTo(s,n),this.context.stroke()}},beginPath:function(t){var e=document.querySelector("#canvas");t.target!==e&&(console.log("beginPath"),this.context.beginPath())},canvasUp:function(t){console.log("canvasUp");var e=this.context.getImageData(0,0,600,400);this.sendAry.push(this.singalAry),console.log(i()(this.sendAry)),this.singalAry=[],this.nextDrawAry.length?(this.middleAry=[],this.middleAry=this.middleAry.concat(this.preDrawAry),this.middleAry.push(e),this.nextDrawAry=[]):this.middleAry.push(e),this.canvasMoveUse=!1},canvasDown:function(t){console.log("canvasDown"),this.canvasMoveUse=!0;var e=t.clientX-t.target.parentNode.offsetLeft,s=t.clientY-t.target.parentNode.offsetTop;this.setCanvasStyle(),this.context.beginPath(),this.context.moveTo(e,s),this.singalAry.push([e,s]),console.log("moveTo",e,s);var n=this.context.getImageData(0,0,600,400);this.preDrawAry.push(n)},setColor:function(t){this.config.lineColor=t},setBrush:function(t){this.config.lineWidth=t},controlCanvas:function(t){switch(t){case"prev":if(this.preDrawAry.length){var e=this.preDrawAry.pop(),s=this.middleAry[this.preDrawAry.length+1];this.nextDrawAry.push(s),this.context.putImageData(e,0,0)}break;case"next":if(this.nextDrawAry.length){var n=this.nextDrawAry.pop(),a=this.middleAry[this.middleAry.length-this.nextDrawAry.length-2];this.preDrawAry.push(a),this.context.putImageData(n,0,0)}break;case"clear":this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.preDrawAry=[],this.nextDrawAry=[],this.middleAry=[this.middleAry[0]]}},getImage:function(){var t=this;this.shows=!0,this.$http({method:"post",url:"https://www.cherryhuang.cn:8088/getlatex",data:{strokes:i()(this.sendAry)}}).then(function(e){t.express=e.data.split("\\").join("\\"),t.src="http://latex.codecogs.com/gif.latex?"+e.data.split("\\").join("\\"),t.shows=!1,console.log(t.src)}).catch(function(t){console.log(t)})},setCanvasStyle:function(){this.context.lineWidth=this.config.lineWidth,this.context.shadowBlur=this.config.shadowBlur,this.context.shadowColor=this.config.lineColor,this.context.strokeStyle=this.config.lineColor}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inner draw",on:{mousemove:function(e){t.beginPath(e)}}},[s("div",{staticClass:"wrap"},[s("canvas",{staticClass:"fl",attrs:{id:"canvas",width:"500",height:"900"},on:{mousedown:function(e){t.canvasDown(e)},mouseup:function(e){t.canvasUp(e)},mousemove:function(e){t.canvasMove(e)},touchstart:function(e){t.canvasDown(e)},touchend:function(e){t.canvasUp(e)},touchmove:function(e){t.canvasMove(e)}}}),t._v(" "),s("div",[t._v("以下为识别的latex公式")]),s("br"),t._v(" "),t.shows?s("div",[t._v("loading")]):t._e(),t._v(" "),s("div",{staticStyle:{color:"red"}},[t._v(t._s(t.express))]),s("br"),t._v(" "),s("div",[s("img",{attrs:{src:t.src}})]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"fl",attrs:{id:"control"}},[s("div",{attrs:{id:"canvas-drawImage"}},[s("button",{staticClass:"drawImage",on:{click:function(e){t.getImage()}}},[t._v("生成")])])]),s("br"),t._v(" "),s("br")])])},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(t){s("TG/p")},null,null).exports,c=s("/ocq"),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var u=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},h,!1,function(t){s("1uuo")},"data-v-d8ec41bc",null).exports;n.a.use(c.a);var v=new c.a({routes:[{path:"/",name:"HelloWorld",component:u}]}),d=s("mtWM"),f=s.n(d),p=s("T1UJ");n.a.use(p.a),n.a.prototype.$http=f.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:v,components:{App:l},template:"<App/>"})},"TG/p":function(t,e){},a5MF:function(t,e,s){"use strict";var n=s("b2hx"),a=s.n(n),i=s("cr5E"),r=s("NAIs"),o=s("vwbq"),l={props:["lines","plot","settings","env"],computed:{size:function(){return r.psgraph.getSize.call(this)}},mounted:function(){var t=o.select(this.$refs.svg);r.psgraph.pspicture.call(this,t)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pspicture",style:"width: "+this.size.width+"px; height: "+this.size.height+"px;"},[e("svg",{ref:"svg",attrs:{width:this.size.width+"px",height:this.size.height+"px"}})])},staticRenderFns:[]},h=s("VU/8")(l,c,!1,null,null,null).exports,u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"nicebox math",attrs:{latex:"true"},domProps:{innerHTML:this._s(this.text)}})},staticRenderFns:[]},v=s("VU/8")({props:["lines"],computed:{text:function(){return this.lines.join("\n")}}},u,!1,null,null,null).exports,d={render:function(){var t=this.$createElement;return(this._self._c||t)("ul",{staticClass:"enumerate math",domProps:{innerHTML:this._s(this.items)}})},staticRenderFns:[]},f=s("VU/8")({props:["lines"],computed:{items:function(){return this.lines.map(function(t){var e=t.match(/\\item (.*)/);return e?"<li>"+e[1]+"</li>":t}).join("\n")}}},d,!1,null,null,null).exports,p={render:function(){var t=this.$createElement;return(this._self._c||t)("pre",{staticClass:"verbatim"},[this._v(this._s(this.text)+"\n  ")])},staticRenderFns:[]},m=s("VU/8")({props:["lines"],computed:{text:function(){return this.lines.join("\n")}}},p,!1,null,null,null).exports,g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v(" "+t._s(t.latex)+" ")]),t._v(" "),s("p",{ref:"p"}),t._v(" "),s("input",{ref:"input",attrs:{scalar:t.scalar,variable:t.variable,type:"range",min:t.minValue,max:t.maxValue},domProps:{value:t.value}})])},staticRenderFns:[]},_=s("VU/8")({props:["latex","scalar","variable","min","max","value","env","plot","svg"],data:function(){return{min:0,max:1,value:1,latex:"",scalar:1,varaible:""}},computed:{minValue:function(){return this.min*this.scalar},maxValue:function(){return this.max*this.scalar}},mounted:function(){this.$refs.input,this.$refs.p,this.svg,this.env,this.plot}},g,!1,null,null,null).exports,x={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"math",attrs:{latex:"true"},domProps:{innerHTML:this._s(this.text)}})},staticRenderFns:[]},y=s("VU/8")({props:["lines"],computed:{text:function(){return this.lines.join("\n")}}},x,!1,null,null,null).exports,w=s("2KuX"),b=s.n(w),A={mounted:function(){this.$el.innerHTML=b.a}},D={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"none"},attrs:{id:"latex-macros"}})},staticRenderFns:[]},C={name:"latex",components:{pspicture:h,nicebox:v,enumerate:f,verbatim:m,slider:_,math:y,macros:s("VU/8")(A,D,!1,null,null,null).exports},beforeMount:function(){var t=this;document.getElementById("latex-macros")?this.usemacros=!0:this.usemacros=!1,Object(i.getMathJax)()||Object(i.loadMathJax)(function(){t.loaded=!0})},data:function(){return{usemacros:!1,loaded:!1}},computed:{items:function(){var t=(new a.a).parse(this.$attrs.content);return this.loaded?t:[]}}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"latex-container"},[this.usemacros?this._e():e("macros"),this._v(" "),this._l(this.items,function(t,s){return e(t.type,{key:s,tag:"component",attrs:{env:t.env,lines:t.lines,plot:t.plot,settings:t.settings}})})],2)},staticRenderFns:[]},k=s("VU/8")(C,U,!1,null,null,null);e.a=k.exports}},["NHnr"]);
//# sourceMappingURL=app.62135ac8793cbf18cc51.js.map